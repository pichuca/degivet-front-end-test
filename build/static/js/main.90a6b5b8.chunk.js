(this["webpackJsonpdegivet-reddit-top-50"]=this["webpackJsonpdegivet-reddit-top-50"]||[]).push([[0],{59:function(e,t,a){e.exports=a(99)},64:function(e,t,a){},86:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(13),i=a.n(r),l=(a(64),a(18)),o=a(19),c=a(22),u=a(20),d=a(12),m=a(23),p=a(21),h=a(7),E=a(49),f=a.n(E),g="FETCH_POSTS_PENDING",v="FETCH_POSTS_SUCCESS",b="FETCH_POSTS_ERROR",P="UPDATE_SINGLE_POST_READED_STATUS_PENDING",S="UPDATE_SINGLE_POST_READED_STATUS_SUCCESS",O="UPDATE_SINGLE_POST_READED_STATUS_ERROR",C="DISMISS_ALL_POSTS_PENDING",j="DISMISS_ALL_POSTS_SUCCESS",_="DISMISS_ALL_POSTS_ERROR",k="DISMISS_SINGLE_POST_SUCCESS";var y="/mock-data/top.json";function D(){return function(e){e({type:g}),f.a.get(y).then((function(t){var a;return e((a=t.data.data.children,{type:v,posts:a})),t.data.data.children})).catch((function(t){e(function(e){return{type:b,error:e}}(t))}))}}function N(){return function(e){e({type:j,pending:!1})}}var T=a(16),A={pending:!1,posts:[],error:null};var R=function(e){return e.postsReducers.posts},I=function(e){return e.postsReducers.pending},w=function(e){return e.postsReducers.error},L=(a(86),a(30)),x=a(50),F=a.n(x),U=a(51),G=a.n(U),H=a(132),M=a(126),B=a(134),W=a(125),J=a(124),$=a(54),q=a.n($),z=a(52),K=a.n(z),Q=a(53),V=a.n(Q),X=(a(91),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hasBeenReaded:!1},a.handleClickToDisplayPost=a.handleClickToDisplayPost.bind(Object(d.a)(a)),a.dismissPost=a.dismissPost.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleClickToDisplayPost",value:function(e){this.setState({hasBeenReaded:!0})}},{key:"dismissPost",value:function(){this.props.getPostClickEvent(this.props.data.id)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(B.a,{id:this.props.data.id,className:"post",onClick:this.handleClickToDisplayPost,alignItems:"flex-start"},s.a.createElement(J.a,null,s.a.createElement(H.a,{alt:"user thumbnail",src:this.props.data.thumbnail})),s.a.createElement(W.a,null,s.a.createElement("h3",null,this.props.data.author),s.a.createElement("h2",null,this.props.data.title),s.a.createElement("div",{className:"post__entry-date"},s.a.createElement("span",null,s.a.createElement("b",null,"Entry date: ")),s.a.createElement("span",null,function(){var t=e.props.data.created_utc;return G.a.unix(t).fromNow()}(this.props.entryDate))),s.a.createElement("div",{className:"post__comments-amount"},s.a.createElement("span",null,s.a.createElement("b",null,"Number of comments:")," "),s.a.createElement("span",null,this.props.data.num_comments)),s.a.createElement("div",{className:"post__readed-status"},this.state.hasBeenReaded?s.a.createElement(K.a,null):s.a.createElement(V.a,null))),s.a.createElement("div",{className:"dismiss-button",title:"dismiss post"},s.a.createElement(q.a,{onClick:this.dismissPost}))),s.a.createElement(M.a,{variant:"middle"}))}}]),t}(s.a.Component)),Y=(a(93),a(128)),Z=a(127);function ee(e){return function(t){t(function(e){return{type:S,posts:e}}(e))}}function te(e,t){return function(t){t(function(e){return{type:k,posts:e,pending:!1}}(e))}}var ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={offset:0,data:e.posts,elements:e.posts,perPage:5,currentPage:0},a.setElementsForCurrentPage=a.setElementsForCurrentPage.bind(Object(d.a)(a)),a.handlePageClick=a.handlePageClick.bind(Object(d.a)(a)),a.handleSinglePostDismiss=a.handleSinglePostDismiss.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setElementsForCurrentPage()}},{key:"setElementsForCurrentPage",value:function(){var e=this.state.data.length,t=this.state.perPage,a=this.state.data.slice(this.state.offset,this.state.offset+this.state.perPage);this.setState({pageCount:Math.ceil(e/t),elements:a})}},{key:"handlePageClick",value:function(e){var t=this,a=e.selected,n=a*this.state.perPage;this.setState({currentPage:a,offset:n},(function(){return t.setElementsForCurrentPage()}))}},{key:"handleSinglePostDismiss",value:function(e){var t=this,a=Object(L.a)(this.state.data).filter((function(t){return t.data.id!==e}));this.setState({elements:a,data:a},(function(){return t.setElementsForCurrentPage()}))}},{key:"render",value:function(){var e,t=this,a=this.state.elements,n=a?a.map((function(e){return s.a.createElement(X,{data:e.data,key:e.data.id,getPostClickEvent:t.handleSinglePostDismiss})})):null,r=s.a.createElement("span",{className:"gap"},"...");return this.state.pageCount>1&&(e=s.a.createElement(F.a,{previousLabel:"\u2190",nextLabel:"\u2192",breakLabel:r,pageCount:this.state.pageCount,onPageChange:this.handlePageClick,forcePage:this.state.currentPage,containerClassName:"pagination",previousLinkClassName:"previous-page",nextLinkClassName:"next-page",disabledClassName:"disabled",activeClassName:"active"})),s.a.createElement(Z.a,{container:!0,spacing:2},s.a.createElement(Z.a,{item:!0,xs:12,sm:6},s.a.createElement(Y.a,null,e,n,e)),s.a.createElement(Z.a,{item:!0,xs:12,sm:6},"DETAILS POSTS"))}}]),t}(s.a.Component),ne=Object(p.b)((function(e){return{error:w(e),posts:R(e),pending:I(e)}}),(function(e){return Object(h.bindActionCreators)({updateSinglePost:ee,dismissSinglePost:te},e)}))(ae);a(94);var se=function(){return s.a.createElement("div",{className:"lds-roller"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))},re=a(131),ie=a(129),le=a(133),oe=a(130),ce=a(31),ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={areAllPostsDismissed:!1},a.dismissAllPostsHandler=a.dismissAllPostsHandler.bind(Object(d.a)(a)),a.handleRefreshPage=a.handleRefreshPage.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchPosts)()}},{key:"dismissAllPostsHandler",value:function(){(0,this.props.dismissAllPosts)(),this.setState({areAllPostsDismissed:!0})}},{key:"handleRefreshPage",value:function(){window.location.reload()}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.posts,n=e.pending,r=s.a.createElement("div",{className:"dismiss-all"},s.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:this.dismissAllPostsHandler},"Dismiss all posts")),i=s.a.createElement("div",{className:"empty-page"},s.a.createElement("h3",null,"No posts to show here."),s.a.createElement("p",null,"Please, refresh your browser or click ",s.a.createElement("span",{className:"refresh-link",onClick:this.handleRefreshPage},"here"),".",s.a.createElement("br",null),"Thank you!"));return s.a.createElement("div",{className:"app"},s.a.createElement(le.a,null,s.a.createElement(oe.a,null,s.a.createElement(ce.a,{variant:"h6",className:"title"},"Degivet Reddit's top 50"))),s.a.createElement(re.a,{maxWidth:"xl"},s.a.createElement("div",{className:"posts-list-wrapper"},n?s.a.createElement(se,null):null,t&&s.a.createElement("span",{className:"error-message"},t),this.state.areAllPostsDismissed||n?null:r,this.state.areAllPostsDismissed?i:null,a.length>1?s.a.createElement(ne,{posts:a}):null)))}}]),t}(s.a.Component),de=Object(p.b)((function(e){return{error:w(e),posts:R(e),pending:I(e)}}),(function(e){return Object(h.bindActionCreators)({fetchPosts:D,dismissAllPosts:N},e)}))(ue);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(35);function pe(e,t){0}var he=function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}},Ee=Object(h.combineReducers)({postsReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(T.a)({},e,{pending:!0});case v:return Object(T.a)({},e,{pending:!1,posts:t.posts});case b:return Object(T.a)({},e,{pending:!1,error:t.error});case C:return Object(T.a)({},e,{pending:!0});case j:return Object(T.a)({},A,{pending:!1});case _:return Object(T.a)({},e,{error:t.error});case P:return Object(T.a)({},e,{pending:!0});case S:return Object(T.a)({},e,{pending:!1});case O:return Object(T.a)({},e,{error:t.error});default:return e}}});var fe=function(e){var t=Object(me.a)({reducer:Ee,middleware:[he].concat(Object(L.a)(Object(me.b)())),preloadedState:e,enhancers:[]});return pe(),t}(),ge=function(){return i.a.render(s.a.createElement(p.a,{store:fe},s.a.createElement(de,null)),document.getElementById("root"))};pe(),ge(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.90a6b5b8.chunk.js.map